import unittest
from unittest import TestCase

from Domain.Board.Grid import Grid
from Domain.Puzzles.Shingoki.ShingokiSolver import ShingokiSolver

____ = ' '


class ShingokiSolverTests(TestCase):


    def test_black2_not_loop(self):
        grid = Grid([
            ['b2', ____],
            [____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(Grid.empty(), solution)

    def test_solution_white_horizontal_w2(self):
        grid = Grid([
            [____, 'w2', ____],
            [____, 'w2', ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐ \n'
            ' └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_horizontal_w3(self):
        grid = Grid([
            [____, ____, 'w3', ____],
            [____, 'w3', ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌────────┐ \n'
            ' └────────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_vertical_w2(self):
        grid = Grid([
            [____, ____],
            ['w2', 'w2'],
            [____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐ \n'
            ' │  │ \n'
            ' └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_vertical_w3(self):
        grid = Grid([
            [____, ____],
            ['w3', ____],
            [____, 'w3'],
            [____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐ \n'
            ' │  │ \n'
            ' │  │ \n'
            ' └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_horizontal_vertical_0(self):
        grid = Grid([
            [____, 'w2', ____],
            ['w2', ____, ____],
            [____, 'w2', ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐ \n'
            ' │     │ \n'
            ' └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_horizontal_vertical_1(self):
        grid = Grid([
            [____, 'w3', ____, ____],
            ['w3', ____, ____, 'w2'],
            [____, ____, ____, ____],
            [____, 'w2', ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌────────┐ \n'
            ' │        │ \n'
            ' │     ┌──┘ \n'
            ' └─────┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_horizontal_vertical_2(self):
        grid = Grid([
            [____, 'w3', ____, ____],
            ['w3', ____, ____, ____],
            [____, ____, 'w2', ____],
            [____, 'w2', ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌────────┐ \n'
            ' │     ┌──┘ \n'
            ' │     │    \n'
            ' └─────┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_right_down_b2_4(self):
        grid = Grid([
            [____, 'b2', ____],
            ['b2', ____, ____],
            [____, ____, 'b4'],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌──┐ \n'
            ' ┌──┘  │ \n'
            ' └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_right_down_b3(self):
        grid = Grid([
            [____, 'b3', ____, ____],
            ['b3', ____, ____, ____],
            [____, 'b3', ____, ____],
            [____, ____, ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌─────┐ \n'
            ' ┌──┘     │ \n'
            ' │  ┌─────┘ \n'
            ' └──┘       '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_right_up_b2_4(self):
        grid = Grid([
            [____, ____, 'b4'],
            ['b2', ____, ____],
            [____, 'b2', ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐ \n'
            ' └──┐  │ \n'
            '    └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_right_up_b3(self):
        grid = Grid([
            [____, ____, ____, ____],
            [____, ____, ____, ____],
            ['b3', ____, 'b3', ____],
            [____, 'b3', ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐    \n'
            ' │     │    \n'
            ' └──┐  └──┐ \n'
            '    └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_left_down_b2_4(self):
        grid = Grid([
            [____, 'b2', ____],
            [____, ____, 'b2'],
            ['b4', ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐    \n'
            ' │  └──┐ \n'
            ' └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_left_down_b3(self):
        grid = Grid([
            [____, ____, 'b3', ____],
            [____, 'b3', ____, 'b3'],
            [____, ____, ____, ____],
            [____, ____, ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐    \n'
            ' └──┐  └──┐ \n'
            '    │     │ \n'
            '    └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_black_left_up_b2_4(self):
        grid = Grid([
            ['b4', ____, ____],
            [____, ____, 'b2'],
            [____, 'b2', ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐ \n'
            ' │  ┌──┘ \n'
            ' └──┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_white_black(self):
        grid = Grid([
            [____, 'w2', ____],
            [____, ____, 'b2'],
            [____, ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌─────┐ \n'
            ' │  ┌──┘ \n'
            ' └──┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_6x6_0(self):
        grid = Grid([
            [____, ____, ____, ____, ____, ____],
            ['b5', ____, 'w2', ____, ____, ____],
            [____, ____, ____, 'w4', ____, 'b2'],
            [____, ____, ____, ____, ____, ____],
            [____, ____, ____, 'b6', ____, 'b2'],
            [____, 'w4', ____, ____, ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌──┐  ┌──┐    \n'
            ' ┌──┘  │  │  └──┐ \n'
            ' │  ┌──┘  │  ┌──┘ \n'
            ' │  │     │  └──┐ \n'
            ' │  └─────┘  ┌──┘ \n'
            ' └───────────┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_6x6_1(self):
        grid = Grid([
            ['b6', ____, ____, 'w5', ____, ____],
            [____, ____, 'b6', ____, ____, ____],
            [____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'b4'],
            [____, 'b2', ____, ____, ____, ____],
            [____, 'w2', ____, 'b5', ____, ____],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──────────────┐ \n'
            ' └──┐  ┌─────┐  │ \n'
            ' ┌──┘  │  ┌──┘  │ \n'
            ' └──┐  │  │  ┌──┘ \n'
            ' ┌──┘  │  │  └──┐ \n'
            ' └─────┘  └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_6x6_2(self):
        grid = Grid([
            [____, ____, ____, 'w3', ____, ____],
            [____, ____, ____, ____, ____, 'b2'],
            [____, ____, ____, 'b3', 'b2', ____],
            ['b4', ____, ____, ____, ____, ____],
            [____, 'b2', ____, ____, ____, ____],
            [____, 'w2', ____, 'b4', ____, 'b3'],
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌────────┐ \n'
            ' │  │  └──┐  ┌──┘ \n'
            ' │  └─────┘  └──┐ \n'
            ' └──┐  ┌──┐  ┌──┘ \n'
            ' ┌──┘  │  │  └──┐ \n'
            ' └─────┘  └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_8x8_0(self):
        grid = Grid([
            [____, ____, ____, ____, ____, 'w6', ____, ____],
            [____, 'w3', ____, ____, ____, 'b6', 'b4', ____],
            [____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, 'b4', ____, ____, ____, ____, ____],
            [____, ____, 'w2', ____, ____, ____, ____, ____],
            [____, 'b2', ____, ____, ____, ____, 'b3', ____],
            ['b4', 'b2', ____, ____, ____, 'b3', ____, ____],
            [____, ____, 'b3', ____, ____, 'b3', ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌─────────────────┐ \n'
            '    │  ┌────────┐  ┌──┘ \n'
            '    │  │        │  │    \n'
            ' ┌──┘  └─────┐  │  │    \n'
            ' │  ┌─────┐  │  └──┘    \n'
            ' │  └──┐  │  └─────┐    \n'
            ' └──┐  │  └─────┐  └──┐ \n'
            '    └──┘        └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_8x8_1(self):
        grid = Grid([
            [____, ____, ____, ____, ____, 'b5', ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'b4', ____, ____, ____, ____, ____, 'w3'],
            [____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'b4', ____, 'w4', 'w6', 'b4', ____, ____],
            ['w6', 'b2', ____, ____, ____, ____, ____, 'w3'],
            [____, ____, ____, ____, ____, ____, ____, 'b4']
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌───────────┐  ┌──┐ \n'
            ' ┌──┘  ┌─────┐  └──┘  │ \n'
            ' │  ┌──┘     │  ┌──┐  │ \n'
            ' │  │  ┌──┐  │  │  └──┘ \n'
            ' │  │  │  │  │  │  ┌──┐ \n'
            ' │  └──┘  │  │  └──┘  │ \n'
            ' │  ┌──┐  │  │  ┌──┐  │ \n'
            ' └──┘  └──┘  └──┘  └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_11x11(self):
        grid = Grid([
            ['b3', ____, ____, 'b2', ____, ____, 'b2', ____, ____, 'w2', ____],
            [____, ____, ____, 'b3', ____, ____, 'b3', ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____],
            [____, 'b2', ____, ____, ____, ____, 'w3', ____, ____, ____, ____],
            ['b6', ____, ____, ____, 'w2', ____, ____, ____, 'w2', ____, ____],
            [____, ____, ____, ____, 'b2', 'b2', ____, ____, ____, 'b4', ____],
            [____, 'w2', ____, ____, ____, ____, 'b4', ____, ____, ____, 'w5'],
            [____, ____, ____, ____, ____, ____, ____, 'b2', 'b2', ____, ____],
            [____, ____, ____, ____, 'w2', ____, ____, ____, 'b2', ____, ____],
            [____, 'b2', ____, ____, ____, ____, ____, 'w2', ____, ____, 'b2'],
            [____, ____, ____, 'w4', ____, 'b5', ____, ____, ____, 'b5', ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐     ┌──┐     ┌──┐  ┌─────┐ \n'
            ' │  └─────┘  └─────┘  │  │  ┌──┘ \n'
            ' └──┐  ┌──┐  ┌─────┐  │  │  └──┐ \n'
            '    └──┘  │  └──┐  │  │  └──┐  │ \n'
            ' ┌─────┐  └─────┘  │  └─────┘  │ \n'
            ' │  ┌──┘     ┌──┐  └────────┐  │ \n'
            ' │  │     ┌──┘  └──┐     ┌──┘  │ \n'
            ' │  └──┐  └─────┐  │  ┌──┘  ┌──┘ \n'
            ' └──┐  │  ┌─────┘  │  └──┐  └──┐ \n'
            ' ┌──┘  └──┘  ┌──┐  └─────┘  ┌──┘ \n'
            ' └───────────┘  └───────────┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_16x16(self):
        grid = Grid([
            [____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, 'b3', 'b4', ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, 'b2', ____, 'w2', ____, 'w2', 'w2', ____, ____, ____, 'w3'],
            [____, ____, 'w3', ____, ____, ____, ____, 'w3', ____, ____, ____, ____, 'w2', ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', 'w3', ____, ____, ____, ____, ____],
            [____, ____, 'b5', ____, ____, ____, ____, 'b4', ____, ____, 'w2', ____, ____, ____, ____, ____],
            [____, ____, 'w4', ____, ____, ____, 'w3', ____, ____, ____, ____, 'b3', ____, 'w3', ____, ____],
            [____, ____, ____, 'w3', 'w5', 'w4', ____, ____, ____, ____, ____, 'b4', ____, ____, 'b4', ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'w2', ____],
            ['w15', ____, ____, ____, ____, ____, 'b3', ____, ____, ____, 'b2', ____, ____, ____, ____, ____],
            [____, 'w11', ____, 'b2', ____, ____, ____, ____, ____, 'b3', 'b2', ____, ____, ____, ____, 'b6'],
            [____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, 'b2', ____],
            [____, ____, ____, ____, 'b2', 'b5', ____, ____, ____, 'b5', ____, ____, ____, 'b2', ____, ____],
            [____, 'b3', ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, 'b2', 'b3'],
            [____, 'w2', ____, ____, ____, 'b2', ____, ____, 'b2', 'b3', ____, ____, ____, 'b3', ____, 'b2'],
            [____, ____, 'b2', ____, 'b3', ____, 'b2', ____, ____, ____, ____, 'b3', 'w2', ____, ____, ____],
            [____, ____, ____, ____, ____, 'w6', ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌──┐  ┌──┐     ┌──┐  ┌──┐  ┌─────┐  ┌──┐ \n'
            ' │  │  │  └──┘  └──┐  │  │  │  │  │  ┌──┘  │  │ \n'
            ' │  │  │  ┌──┐  ┌──┘  │  └──┘  └──┘  │  ┌──┘  │ \n'
            ' │  │  └──┘  │  └─────┘  ┌────────┐  └──┘  ┌──┘ \n'
            ' │  │  ┌──┐  │  ┌──┐  ┌──┘  ┌─────┘  ┌─────┘    \n'
            ' │  │  │  │  │  │  │  │     └─────┐  └────────┐ \n'
            ' │  │  │  │  │  │  │  │  ┌────────┘  ┌─────┐  │ \n'
            ' │  │  │  └──┘  │  └──┘  └──┐  ┌─────┘     │  │ \n'
            ' │  │  └──┐  ┌──┘  ┌─────┐  │  └──┐     ┌──┘  │ \n'
            ' │  │  ┌──┘  └──┐  └──┐  │  └──┐  └──┐  └─────┘ \n'
            ' │  │  └─────┐  └─────┘  └──┐  └──┐  └──┐  ┌──┐ \n'
            ' │  └──┐  ┌──┘  ┌───────────┘     └──┐  └──┘  │ \n'
            ' │  ┌──┘  └──┐  └──┐  ┌───────────┐  └──┐  ┌──┘ \n'
            ' │  │  ┌──┐  │  ┌──┘  └──┐  ┌──┐  └─────┘  └──┐ \n'
            ' │  └──┘  └──┘  └──┐  ┌──┘  │  │  ┌─────┐  ┌──┘ \n'
            ' └─────────────────┘  └─────┘  └──┘     └──┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    @unittest.skip('This test is too slow (around 10 seconds)')
    def test_solution_21x21(self):
        grid = Grid([
            [____, ____, ____, ____, 'b5', 'w2', ____, ____, ____, ____, 'w6', ____, ____, ____, 'b7', ____, 'w5', ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'b2', ____, ____, ____, ____, ____, 'b4', 'b4', ____],
            ['w4', ____, 'b3', 'w7', ____, 'b5', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'b2', 'b4', ____, ____, ____, ____, ____, 'w4', ____, ____, ____, 'w2', ____, ____, ____, 'w3', ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, 'w3', 'b2', ____, ____, 'b2', ____, ____],
            ['b4', ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, 'b3', ____, ____],
            [____, ____, ____, ____, ____, ____, 'b5', 'b2', 'w4', ____, ____, ____, ____, ____, 'b5', ____, 'b3', ____, ____, ____, ____],
            [____, ____, 'b2', ____, ____, 'b6', ____, ____, ____, ____, ____, ____, 'b4', 'b2', 'b2', ____, ____, ____, 'b3', ____, ____],
            [____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'b2', 'b6', ____, 'b2', ____, ____, ____, 'b3', ____, ____, ____],
            [____, ____, 'b3', ____, ____, ____, ____, 'w3', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, 'b2', 'b2', ____, 'b2'],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____, ____, 'b4', ____, 'w2', 'w2', ____],
            [____, ____, ____, 'b2', ____, 'w3', ____, ____, ____, ____, 'w2', 'b4', ____, 'b6', 'w4', 'w3', ____, ____, ____, 'b3', ____],
            [____, ____, 'b3', 'w2', 'b6', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'w3', ____, 'b5', ____, ____, ____],
            [____, 'w5', 'b4', ____, ____, ____, 'w3', 'b4', ____, 'b4', ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, 'b2', ____, ____, 'w2', ____, 'b4', ____, 'w4', ____, 'b4', ____, 'b4', 'w2', ____, ____],
            [____, 'b6', ____, 'b3', ____, ____, ____, 'b3', 'w4', ____, ____, ____, ____, ____, ____, ____, 'w5', 'b2', ____, ____, 'b2'],
            [____, ____, ____, ____, ____, 'w2', 'b5', ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, 'w3', ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, 'b2', 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____],
            [____, ____, ____, 'b4', 'b2', ____, ____, 'b2', ____, ____, ____, ____, 'b5', ____, ____, ____, ____, ____, 'w4', ____, 'b5']
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌──┐  ┌─────┐     ┌─────────────────┐  ┌──────────────┐ \n'
            ' │  │  │  │  │  ┌──┘     └──┐  ┌──┐  ┌──┐  └──┘  ┌─────┐  ┌──┘ \n'
            ' │  └──┘  │  │  └───────────┘  │  └──┘  └─────┐  │     │  │    \n'
            ' │  ┌──┐  │  └──┐  ┌───────────┘  ┌─────┐  ┌──┘  │  ┌──┘  │    \n'
            ' └──┘  │  │     │  │     ┌─────┐  │  ┌──┘  │  ┌──┘  └──┐  └──┐ \n'
            ' ┌──┐  │  │     │  └──┐  │  ┌──┘  │  │     │  └──┐     └─────┘ \n'
            ' │  └──┘  │     │  ┌──┘  │  │     │  │     └─────┘  ┌──┐       \n'
            ' │  ┌──┐  └─────┘  │     │  └──┐  │  └──┐  ┌──┐     │  └─────┐ \n'
            ' └──┘  └────────┐  │  ┌──┘  ┌──┘  └──┐  └──┘  └──┐  └──┐  ┌──┘ \n'
            '    ┌──┐     ┌──┘  │  │  ┌──┘  ┌─────┘  ┌─────┐  │  ┌──┘  └──┐ \n'
            ' ┌──┘  │     │  ┌──┘  │  └─────┘  ┌─────┘  ┌──┘  │  └──┐  ┌──┘ \n'
            ' └──┐  └──┐  │  │     └────────┐  │        │  ┌──┘     │  │    \n'
            '    │  ┌──┘  │  │              │  └─────┐  │  │  ┌─────┘  └──┐ \n'
            '    │  └─────┘  └─────┐  ┌─────┘  ┌──┐  │  │  │  │  ┌────────┘ \n'
            '    │  ┌──┐  ┌────────┘  │  ┌─────┘  │  │  └──┘  │  │          \n'
            '    │  │  └──┘  ┌──┐     │  │     ┌──┘  │  ┌──┐  │  └─────┐    \n'
            ' ┌──┘  │  ┌─────┘  └──┐  │  └──┐  │  ┌──┘  │  │  │  ┌──┐  └──┐ \n'
            ' └──┐  └──┘  ┌─────┐  │  └──┐  │  │  └──┐  │  │  └──┘  │  ┌──┘ \n'
            '    └──┐     └──┐  │  └─────┘  │  └──┐  │  │  └─────┐  │  │    \n'
            ' ┌─────┘  ┌──┐  │  │  ┌──┐  ┌──┘     │  └──┘  ┌──┐  └──┘  └──┐ \n'
            ' └────────┘  └──┘  └──┘  └──┘        └────────┘  └───────────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    @unittest.skip('This test is too slow (around 21 seconds)')
    def test_solution_26x26(self):
        grid = Grid([
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'w11', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, 'b2', ____, ____],
            [____, 'b2', 'b3', ____, 'b2', ____, ____, ____, 'b5', 'w3', ____, ____, ____, 'w5', ____, ____, ____, ____, ____, ____, 'b2', ____, 'w2', ____, ____, ____],
            [____, ____, ____, ____, 'b6', ____, 'b5', 'b2', ____, ____, ____, ____, ____, 'w2', 'b3', 'b5', ____, 'b3', 'b4', ____, ____, ____, ____, 'w2', ____, ____],
            [____, ____, ____, ____, ____, 'w6', ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, 'b4', ____, 'w5', ____, ____, 'w2', ____, 'b2', 'b2', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, 'w2', ____, ____, 'b5'],
            ['b4', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, 'b3', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'b4', ____, 'b4'],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, 'b2', ____, ____, ____, ____, ____, 'b6', 'w5', 'b3', ____, ____, 'b2', ____, ____],
            ['w4', ____, ____, 'w6', ____, 'w2', ____, 'w2', ____, 'w4', 'b2', ____, 'b4', ____, ____, ____, ____, ____, 'b3', ____, ____, 'b3', 'w3', ____, 'b2', ____],
            [____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'b8', 'w5', ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____],
            ['w4', 'b2', ____, 'b3', ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, 'w6', ____, ____, 'w3', ____, 'b5', ____, ____, ____, 'b3', ____, ____],
            [____, 'b3', 'b2', ____, 'b2', ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b8', 'b3', 'b2'],
            [____, ____, ____, 'w2', ____, ____, ____, 'w2', ____, ____, 'b3', 'b3', ____, ____, ____, ____, 'w3', ____, 'w2', ____, 'b3', ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', 'w2', ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____],
            ['b3', ____, ____, 'b2', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'w4', ____, ____, ____],
            ['b2', 'b4', ____, ____, ____, 'b8', ____, ____, 'w5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w7', 'b4', 'b2'],
            [____, ____, 'b7', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b7', ____, ____, 'w5', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'w7', ____, 'w4', ____, ____, ____, 'b3', ____, ____, ____, 'b3', 'b3', ____, ____, ____, ____, 'b2', 'b2', ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w4', 'b3', ____, ____, ____, ____, ____],
            [____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'b3', 'b4', ____, 'b4', 'b5', ____, 'w3', ____, ____, 'b4', ____, ____, ____, 'b2', ____],
            [____, ____, ____, ____, ____, ____, 'b6', 'b5', 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w5', ____, ____, 'b2', ____, ____, ____, 'b2'],
            [____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b8', ____, ____, ____, ____],
            [____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'b4', 'w6', 'b5', ____, ____, ____, ____, ____, 'w4', ____, 'w4', ____, ____, ____, 'b5', 'b3', 'b5'],
            [____, ____, 'b3', ____, ____, 'b3', ____, ____, 'w2', ____, ____, ____, 'w3', ____, ____, ____, ____, 'b4', 'w2', ____, ____, 'b4', ____, 'w3', ____, ____],
            ['b5', ____, ____, 'w4', ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, 'w2', 'b2', ____, ____, 'b2', ____, ____, ____, ____, 'b2', ____, ____],
            [____, ____, ____, ____, 'w5', ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'w2', ____, ____, ____, 'b5', ____, ____, ____, ____, ____],
            [____, 'w3', ____, ____, ____, ____, ____, ____, 'w6', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b10']
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌─────┐  ┌──┐  ┌────────────────────────────────┐  ┌────────┐  ┌──┐  ┌──┐ \n'
            '    └──┐  └──┘  │  └──┐  ┌────────┐  ┌──────────────┘  └──┐  ┌──┘  │  └──┘  │ \n'
            ' ┌──┐  │  ┌──┐  │  ┌──┘  │     ┌──┘  └─────┐  ┌─────┐  ┌──┘  └──┐  └─────┐  │ \n'
            ' │  └──┘  │  │  │  │  ┌──┘     └─────┐  ┌──┘  │  ┌──┘  │  ┌──┐  │     ┌──┘  │ \n'
            ' │  ┌──┐  │  │  │  │  │     ┌──┐     │  └──┐  │  │     │  │  │  └─────┘  ┌──┘ \n'
            ' └──┘  │  │  │  │  │  └─────┘  └──┐  └──┐  └──┘  └─────┘  │  └────────┐  └──┐ \n'
            ' ┌──┐  │  │  │  └──┘  ┌──┐  ┌──┐  └──┐  └──────────────┐  │  ┌─────┐  └──┐  │ \n'
            ' │  └──┘  │  └─────┐  │  │  │  └──┐  └────────┐  ┌─────┘  │  └──┐  │  ┌──┘  │ \n'
            ' │  ┌─────┘        └──┘  │  │     │  ┌─────┐  │  └────────┘     │  │  │  ┌──┘ \n'
            ' │  └──┐  ┌─────┐  ┌─────┘  │  ┌──┘  └──┐  │  │  ┌────────┐  ┌──┘  └──┘  │    \n'
            ' └──┐  └──┘  ┌──┘  └──┐  ┌──┘  └─────┐  │  │  │  │  ┌──┐  │  └──┐  ┌──┐  └──┐ \n'
            '    │  ┌─────┘        │  │  ┌──┐  ┌──┘  │  │  │  │  │  │  └──┐  │  │  │  ┌──┘ \n'
            '    └──┘           ┌──┘  │  │  │  │  ┌──┘  │  └──┘  │  └──┐  │  │  │  │  │    \n'
            ' ┌─────┐  ┌──┐     └──┐  │  │  └──┘  │     │  ┌─────┘     └──┘  │  │  │  │    \n'
            ' └──┐  └──┘  └──┐  ┌──┘  │  └──┐  ┌──┘     └──┘                 └──┘  │  └──┐ \n'
            '    │  ┌─────┐  │  │  ┌──┘     │  │     ┌──────────────┐  ┌──┐        │  ┌──┘ \n'
            '    │  │  ┌──┘  │  │  │  ┌──┐  │  └──┐  │  ┌──┐  ┌─────┘  │  │  ┌──┐  │  └──┐ \n'
            ' ┌──┘  │  └──┐  │  │  │  │  │  └──┐  └──┘  │  │  └─────┐  │  └──┘  └──┘  ┌──┘ \n'
            ' └──┐  │     │  │  │  │  │  └─────┘  ┌─────┘  └────────┘  │  ┌────────┐  └──┐ \n'
            ' ┌──┘  │  ┌──┘  │  └──┘  └──┐  ┌──┐  │     ┌──────────────┘  └──┐     │  ┌──┘ \n'
            ' │  ┌──┘  └──┐  │     ┌─────┘  │  └──┘     └────────────────────┘     │  │    \n'
            ' │  └─────┐  │  └──┐  │  ┌──┐  │  ┌──┐           ┌───────────┐  ┌─────┘  └──┐ \n'
            ' │  ┌──┐  │  │  ┌──┘  │  │  │  │  │  │     ┌──┐  │  ┌─────┐  │  └────────┐  │ \n'
            ' └──┘  │  │  │  │     └──┘  │  │  │  │     │  └──┘  │  ┌──┘  │     ┌──┐  │  │ \n'
            ' ┌─────┘  │  │  └───────────┘  │  │  └─────┘  ┌─────┘  └──┐  └─────┘  └──┘  │ \n'
            ' └────────┘  └─────────────────┘  └───────────┘           └─────────────────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    @unittest.skip('This test is too slow (around 92 seconds)')
    def test_solution_31x31(self):
        grid = Grid([
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', 'w3', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, 'b3', 'b4', ____, ____, 'b2', ____, ____, ____, ____],
            [____, 'b2', ____, 'b2', ____, 'w2', 'b3', ____, ____, ____, ____, ____, 'b3', 'w2', ____, 'w2', ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', 'b4'],
            [____, ____, 'w2', ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, 'b4', ____, ____, ____, 'b3', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'w3', ____],
            [____, 'w2', ____, ____, ____, 'w3', 'b4', ____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, 'b4', ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____],
            ['b5', ____, ____, 'b2', ____, ____, ____, 'b5', ____, ____, 'b2', 'w2', ____, 'w4', ____, ____, ____, ____, ____, 'b3', 'b3', 'b2', ____, ____, ____, ____, ____, 'b4', ____, 'b4', ____],
            [____, ____, ____, 'b4', ____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____],
            [____, ____, 'w3', ____, ____, ____, 'b4', 'w4', 'w2', ____, ____, 'w3', ____, ____, 'b3', ____, ____, 'b6', ____, ____, ____, 'w2', ____, 'w3', 'b5', ____, ____, 'b5', ____, ____, ____],
            [____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'w3', ____, 'b4', 'b3', ____, ____, ____, 'b4', ____, 'w4', ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____],
            [____, 'b2', 'b3', 'w2', ____, ____, ____, ____, 'b4', 'b4', ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, 'b4', ____, ____, ____],
            [____, ____, ____, ____, ____, 'b3', ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'w2', ____, 'b4', 'w2', ____, 'w2', ____, 'w3', ____, ____, ____, ____, 'w2', ____, ____, 'b4'],
            [____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, 'w4', ____, 'w2', ____, ____],
            [____, 'b5', 'w2', ____, ____, 'b3', ____, 'w3', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, 'b2'],
            [____, ____, ____, ____, ____, ____, 'w4', ____, 'w2', ____, ____, 'b2', 'b3', ____, ____, ____, ____, 'b3', 'w2', ____, ____, ____, ____, 'b3', ____, ____, 'w2', ____, ____, 'w3', ____],
            [____, ____, 'w2', ____, ____, 'b3', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b4', ____, ____, ____, ____, ____, ____, 'b3'],
            [____, ____, ____, ____, ____, 'b2', 'b6', ____, ____, ____, 'b2', ____, ____, ____, 'b2', 'b2', ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____],
            ['b3', ____, ____, ____, ____, ____, ____, 'b3', 'b2', ____, 'w2', ____, 'b3', ____, ____, ____, 'b2', ____, ____, ____, 'w3', ____, ____, ____, 'w4', ____, ____, ____, 'w3', ____, ____],
            [____, ____, 'b2', ____, 'b10', ____, ____, ____, ____, ____, ____, 'b2', ____, 'w2', ____, ____, ____, 'b3', ____, ____, 'b6', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b10'],
            [____, ____, ____, 'b2', ____, ____, ____, ____, 'b2', ____, 'b2', 'b3', ____, ____, ____, 'b4', ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____],
            [____, 'b3', ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, 'b2', 'b2', ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'w8', 'b5', ____, 'w4', ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'b2', ____, ____, ____, 'w9'],
            ['w7', ____, 'b2', ____, ____, ____, 'b6', ____, ____, ____, ____, 'b7', ____, ____, ____, ____, 'w2', 'w3', ____, 'b3', ____, 'b3', 'w3', 'b4', ____, ____, ____, 'b3', ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w6', ____, 'b4', ____, ____, ____, 'b6', ____, ____, ____, 'b4', ____, 'b4', 'b2', 'b4', ____, ____, 'b6', ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', ____, 'w6', ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, 'b4', ____],
            [____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, 'w5', ____, ____, ____, ____, ____, 'b2', ____, ____, ____],
            [____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'w6', ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, 'b5', ____, ____, 'b4', ____, ____, ____, ____],
            ['w7', 'b8', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w6', ____, 'b2', ____, 'b2', ____, 'b2', ____, ____, 'b5', ____, ____, ____, ____, ____, 'b2', ____, ____, ____],
            [____, ____, ____, ____, 'w4', ____, 'b6', ____, ____, 'b4', ____, 'b7', ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'w3', ____, ____, 'b2', ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, 'b6', 'w3', ____, ____, ____, 'w3', ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, 'w2', ____, ____, 'b4', ____, 'b2', ____, ____, ____],
            [____, ____, ____, ____, ____, 'b6', ____, ____, 'b3', ____, ____, ____, ____, 'b2', ____, ____, 'w2', ____, 'w3', ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'b3', 'w4', ____],
            [____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, 'b5', ____, ____, ____, 'b3', ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b16', ____, ____, ____, ____, ____, 'w7', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌──┐     ┌──┐     ┌──┐  ┌────────┐     ┌──┐  ┌─────┐  ┌─────┐  ┌──┐     ┌──┐          \n'
            ' │  └──┘  └──┐  │  └─────┘  └──┘  ┌──┐  │     │  │  │  ┌──┘  │  ┌──┘  │  └─────┘  └────────┐ \n'
            ' │  ┌─────┐  └──┘  ┌────────┐  ┌──┘  │  └─────┘  └──┘  └──┐  │  └──┐  │  ┌─────┐  ┌────────┘ \n'
            ' │  │     └────────┘        │  └──┐  └───────────┐  ┌──┐  │  └──┐  │  └──┘     │  │          \n'
            ' └──┘     ┌──┐     ┌──┐     └──┐  │  ┌───────────┘  │  └──┘  ┌──┘  │  ┌──┐     │  └─────┐    \n'
            ' ┌────────┘  │     │  │  ┌──┐  └──┘  │  ┌────────┐  │        │  ┌──┘  │  │     └─────┐  │    \n'
            ' └────────┐  └─────┘  │  │  └────────┘  └──┐  ┌──┘  └────────┘  │     │  └────────┐  │  └──┐ \n'
            ' ┌────────┘     ┌──┐  │  └────────┐  ┌──┐  │  └──┐  ┌───────────┘     └────────┐  │  └──┐  │ \n'
            ' └──┐  ┌─────┐  │  │  └──┐  ┌─────┘  │  │  └──┐  │  │        ┌───────────┐     │  └─────┘  │ \n'
            '    └──┘     └──┘  └──┐  │  │  ┌─────┘  └──┐  │  │  └─────┐  │  ┌────────┘     └─────┐  ┌──┘ \n'
            '          ┌────────┐  │  │  └──┘     ┌──┐  └──┘  └─────┐  └──┘  │     ┌───────────┐  │  │    \n'
            '    ┌─────┘  ┌──┐  │  │  └─────┐  ┌──┘  └─────┐  ┌─────┘     ┌──┘     │  ┌─────┐  └──┘  └──┐ \n'
            '    │  ┌─────┘  │  │  └─────┐  └──┘  ┌─────┐  └──┘  ┌─────┐  │     ┌──┘  └──┐  │  ┌────────┘ \n'
            '    │  │     ┌──┘  │     ┌──┘  ┌─────┘  ┌──┘  ┌─────┘  ┌──┘  └─────┘  ┌──┐  │  └──┘     ┌──┐ \n'
            '    └──┘     └──┐  └─────┘  ┌──┘        └──┐  └──┐     └───────────┐  │  │  └───────────┘  │ \n'
            ' ┌──┐           └──┐  ┌──┐  └─────┐  ┌─────┘  ┌──┘  ┌──┐  ┌────────┘  │  │  ┌──┐  ┌────────┘ \n'
            ' │  └──┐  ┌──┐     │  │  └──┐  ┌──┘  └─────┐  └─────┘  │  │  ┌────────┘  │  │  │  │     ┌──┐ \n'
            ' └──┐  └──┘  │  ┌──┘  └──┐  └──┘  ┌─────┐  │  ┌────────┘  │  │  ┌────────┘  │  └──┘  ┌──┘  │ \n'
            '    └─────┐  │  │  ┌─────┘        └──┐  └──┘  └─────┐  ┌──┘  │  └──┐  ┌─────┘  ┌──┐  └──┐  │ \n'
            ' ┌──┐     │  │  │  └───────────┐     └───────────┐  │  │  ┌──┘     │  │     ┌──┘  │     │  │ \n'
            ' │  │  ┌──┘  │  │  ┌────────┐  └──┐  ┌────────┐  │  │  │  └─────┐  │  └─────┘  ┌──┘     │  │ \n'
            ' │  │  └──┐  │  │  │        └──┐  │  │  ┌──┐  │  └──┘  └────────┘  └──┐  ┌──┐  └────────┘  │ \n'
            ' │  │     │  │  │  │  ┌──┐     │  │  │  │  │  │  ┌─────────────────┐  │  │  └──┐  ┌─────┐  │ \n'
            ' │  │  ┌──┘  │  │  └──┘  └──┐  │  │  │  │  │  └──┘  ┌──────────────┘  │  │     └──┘     │  │ \n'
            ' │  │  └──┐  │  │  ┌─────┐  │  │  │  │  │  └──┐     └──┐  ┌──┐  ┌─────┘  └─────┐  ┌─────┘  │ \n'
            ' │  └─────┘  └──┘  │  ┌──┘  │  │  │  │  │  ┌──┘  ┌──┐  └──┘  │  └───────────┐  │  └──┐  ┌──┘ \n'
            ' └──┐  ┌───────────┘  │  ┌──┘  │  └──┘  │  └─────┘  └─────┐  │  ┌────────┐  └──┘  ┌──┘  │    \n'
            ' ┌──┘  └───────────┐  │  │     └────────┘        ┌────────┘  │  └─────┐  │  ┌──┐  └──┐  │    \n'
            ' └──────────────┐  │  └──┘     ┌──┐     ┌──┐     │  ┌────────┘  ┌─────┘  │  │  └─────┘  │    \n'
            ' ┌──────────────┘  └───────────┘  └─────┘  │  ┌──┘  └───────────┘  ┌─────┘  │  ┌─────┐  └──┐ \n'
            ' └─────────────────────────────────────────┘  └────────────────────┘        └──┘     └─────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    @unittest.skip('This test is too slow (around 69 seconds)')
    def test_solution_36x36(self):
        grid = Grid([
            [____, ____, 'w5', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, 'w8', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____],
            ['b2', ____, ____, ____, 'b6', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b4', 'b3', ____, ____, 'b2', ____, 'w2', ____, ____, 'b4', ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, 'b2'],
            [____, ____, ____, ____, ____, 'w3', ____, 'b2', ____, ____, 'w3', ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w7', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, 'w7', ____, ____, ____, 'b4', ____, ____, ____, ____],
            [____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, 'b4', ____, ____, ____, 'b4', ____, 'b3', 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____],
            ['b3', ____, ____, ____, ____, ____, 'b6', ____, ____, ____, ____, ____, 'b3', ____, ____, 'b5', ____, ____, ____, 'b6', ____, ____, ____, ____, ____, 'b7', ____, ____, ____, ____, 'w6', ____, ____, ____, ____, ____],
            ['w2', ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'b2', 'b3', ____, ____, ____, ____, 'b7', ____, 'w3', ____, ____, ____, 'w4', 'b9', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, 'b3', ____, ____, ____, 'w6', ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____],
            [____, 'w2', ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____, 'b3', ____, ____, 'w4', ____, ____, ____, ____, ____, 'b8', ____, ____, ____, 'w3', ____, 'b9', ____, 'b8', 'w7', ____, ____, 'b2'],
            [____, ____, ____, ____, ____, ____, ____, ____, 'w6', ____, ____, ____, 'w2', 'b5', ____, 'b3', ____, ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____],
            [____, 'w2', 'w2', ____, ____, 'b6', ____, ____, ____, ____, 'b4', ____, ____, ____, 'w3', 'b4', ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2'],
            [____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', 'w4', ____, ____, ____, 'b2', ____, 'b3', ____, 'b3', ____, ____, ____, 'b2', ____],
            [____, ____, ____, ____, 'w5', ____, ____, ____, 'b3', 'b2', ____, 'b3', ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, 'b2'],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'w6', ____, ____, ____, ____, ____, 'w2', ____, 'b2', ____, ____, ____, ____, 'b2', 'w2', 'w3', ____, 'b2', ____, 'b3', ____, 'b3', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'b14', 'w2', ____],
            [____, ____, ____, 'b4', ____, 'w5', ____, 'b3', ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, 'w3', ____, ____, ____, 'w2', ____, ____, ____],
            [____, ____, 'b3', ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, 'b2', ____, 'w2', ____, 'b5', 'b2', ____, ____, ____, 'b4', ____, 'b7', ____, ____, ____, ____, ____, 'b9', ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, 'b2', ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'b7', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, 'w4', ____, ____, ____, ____, ____, ____, 'b4', 'b2', 'b3', ____, ____, ____, ____, 'b2', ____, ____, 'b4', ____, 'w2', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, 'w4', ____, ____],
            ['b9', ____, 'b3', ____, ____, 'w3', ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, 'b2', ____, ____, 'w3', ____, 'w3', ____, 'w3', ____, ____, ____],
            [____, ____, 'b2', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, 'w3', ____, ____, ____, 'b2', ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w13', ____],
            [____, ____, 'b3', ____, ____, ____, ____, ____, 'w5', 'b3', ____, ____, ____, ____, 'b6', ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, 'w6', ____, ____, 'b6', ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, 'b6', ____, ____, 'w2', ____, ____, ____, 'b5', 'b2', ____, ____, ____, ____, ____, ____, 'b6', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, 'w5', ____, ____, 'w3', ____, 'b4', ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, 'w4', 'w2', 'b3', ____, ____, ____, ____, ____],
            [____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, 'b7', ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            ['w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b9', ____, ____, 'w4', ____, ____, 'w3', ____, ____, ____, 'b3', ____, 'b4', ____, 'w4', ____, ____, 'b6', ____, ____, 'b3', ____, ____, ____, ____],
            [____, ____, ____, 'b3', 'w3', ____, ____, ____, 'b3', ____, ____, 'w5', 'b5', 'b3', ____, ____, ____, ____, ____, 'b5', 'w4', ____, ____, ____, ____, ____, ____, 'b4', 'w3', ____, ____, ____, ____, 'w7', ____, ____],
            [____, 'w4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', 'b5', ____, ____, ____, ____],
            [____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, 'w4', ____, 'w3', ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'w8', 'w5', ____, ____, ____, 'w5', ____, ____, ____, ____, ____, 'b6', 'w3', 'w3', 'b3', 'b2', ____, 'b3', ____, ____, 'w3', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____],
            [____, 'b2', 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, 'b2', 'b3', ____, ____, ____, ____, 'w8', ____, ____, 'b17'],
            ['w4', ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, 'b7', 'b5', ____, ____, ____, ____, ____, ____, 'w3', ____, 'b3', 'w2', ____, 'b5', ____, ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'b2', 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', 'b2', ____, 'w4', ____, 'b2', ____, 'b2'],
            [____, ____, 'w2', ____, ____, ____, 'w2', ____, 'w2', 'w2', ____, ____, ____, ____, 'b2', ____, ____, ____, 'w2', ____, ____, 'w3', ____, ____, ____, 'b2', ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____],
            [____, ____, 'b3', ____, 'w3', ____, ____, 'w3', ____, ____, 'w3', ____, ____, 'b5', ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, 'b4', ____, 'b3', 'b2', ____, ____, 'w2', ____, ____, ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w9', ____, ____, ____, ____, ____, 'b2', ____, ____, 'b2', ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'b2', 'b3']
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌──────────────┐  ┌─────┐  ┌───────────────────────┐  ┌──┐     ┌──────────────┐        ┌──┐  ┌─────┐    \n'
            ' ┌──┘  ┌─────┐  ┌──┘  └──┐  │  └─────┐  ┌──┐  ┌─────┐  └──┘  │  ┌──┘  ┌────────┐  │  ┌─────┘  │  └──┐  └──┐ \n'
            ' └──┐  │     │  │     ┌──┘  └────────┘  │  │  └──┐  └──┐  ┌──┘  │  ┌──┘        │  │  │  ┌──┐  │     │  ┌──┘ \n'
            ' ┌──┘  └──┐  │  │     └────────┐  ┌─────┘  │  ┌──┘     │  └──┐  │  └────────┐  │  │  │  │  │  └──┐  │  └──┐ \n'
            ' └─────┐  │  │  └────────┐  ┌──┘  └──┐  ┌──┘  │        └─────┘  └──┐  ┌─────┘  │  │  │  │  │  ┌──┘  │  ┌──┘ \n'
            ' ┌──┐  │  │  └──┐  ┌──┐  │  │  ┌─────┘  └──┐  └────────┐  ┌────────┘  └─────┐  │  │  │  │  │  │     │  │    \n'
            ' │  └──┘  └──┐  │  │  │  │  │  │  ┌──┐     └────────┐  │  │  ┌───────────┐  │  │  │  │  │  │  │     │  │    \n'
            ' └─────┐  ┌──┘  │  │  │  │  │  └──┘  │     ┌──┐     │  │  │  │           │  │  │  └──┘  │  │  └──┐  │  └──┐ \n'
            ' ┌─────┘  │     │  │  │  │  └──┐     └─────┘  │     │  └──┘  │  ┌─────┐  │  │  └────────┘  └──┐  │  │  ┌──┘ \n'
            ' └──┐  ┌──┘     │  │  │  │     │  ┌─────┐  ┌──┘     │  ┌─────┘  └──┐  │  │  │        ┌──┐     │  │  │  │    \n'
            '    │  │        └──┘  │  └─────┘  └──┐  │  │  ┌─────┘  └──┐        │  │  │  └──┐  ┌──┘  └──┐  │  │  │  └──┐ \n'
            ' ┌──┘  └─────┐  ┌─────┘  ┌───────────┘  │  │  │  ┌─────┐  └─────┐  │  │  └──┐  └──┘  ┌─────┘  │  │  │  ┌──┘ \n'
            ' │  ┌─────┐  │  │  ┌─────┘  ┌──┐  ┌──┐  └──┘  └──┘  ┌──┘  ┌──┐  │  │  │     │  ┌─────┘        │  │  │  └──┐ \n'
            ' │  │     │  │  │  └────────┘  │  │  └─────┐  ┌──┐  │  ┌──┘  │  └──┘  │     │  └─────┐  ┌──┐  │  │  │  ┌──┘ \n'
            ' │  │     │  │  │  ┌─────┐  ┌──┘  └──┐  ┌──┘  │  │  │  └──┐  └──┐  ┌──┘     │  ┌─────┘  │  │  │  └──┘  │    \n'
            ' │  │  ┌──┘  │  │  └──┐  │  └─────┐  │  └─────┘  │  │  ┌──┘  ┌──┘  │     ┌──┘  └────────┘  │  └─────┐  └──┐ \n'
            ' │  │  └─────┘  └──┐  │  └─────┐  │  └──┐  ┌─────┘  └──┘     └─────┘     └─────────────────┘        └──┐  │ \n'
            ' │  │              │  └─────┐  │  │  ┌──┘  └──┐     ┌──┐  ┌─────────────────┐  ┌──┐     ┌──┐     ┌──┐  │  │ \n'
            ' │  └───────────┐  └─────┐  │  └──┘  └──┐  ┌──┘     │  └──┘  ┌──┐  ┌─────┐  └──┘  └─────┘  │     │  │  │  │ \n'
            ' └──┐  ┌─────┐  │  ┌──┐  │  │  ┌──┐     │  │        │  ┌─────┘  │  │     └──┐  ┌────────┐  │     │  │  │  │ \n'
            '    │  └──┐  │  │  │  │  │  └──┘  └─────┘  │     ┌──┘  └──┐     │  │        └──┘        │  └─────┘  │  │  │ \n'
            '    │  ┌──┘  │  └──┘  │  │  ┌──┐  ┌────────┘  ┌──┘  ┌─────┘  ┌──┘  └─────────────────┐  └───────────┘  │  │ \n'
            '    │  │     └────────┘  │  │  │  └──┐  ┌──┐  └──┐  └──┐     └──┐  ┌──────────────┐  │  ┌──┐     ┌──┐  │  │ \n'
            '    │  └────────┐  ┌──┐  └──┘  └──┐  └──┘  │  ┌──┘  ┌──┘  ┌──┐  └──┘              │  │  │  └─────┘  │  │  │ \n'
            ' ┌──┘     ┌──┐  │  │  │           └─────┐  │  └──┐  │     │  │  ┌────────┐  ┌─────┘  │  └────────┐  │  │  │ \n'
            ' │  ┌──┐  │  │  │  │  └───────────┐     │  │     │  │     │  │  └─────┐  │  │  ┌─────┘     ┌──┐  │  │  │  │ \n'
            ' └──┘  └──┘  │  │  └──┐  ┌─────┐  │  ┌──┘  └──┐  │  └─────┘  │        │  │  │  │  ┌────────┘  │  │  │  │  │ \n'
            ' ┌───────────┘  │  ┌──┘  └──┐  │  │  │  ┌──┐  │  │  ┌──┐  ┌──┘     ┌──┘  │  │  └──┘  ┌────────┘  │  │  │  │ \n'
            ' │  ┌────────┐  │  │  ┌──┐  │  │  │  │  │  │  │  │  │  │  │     ┌──┘  ┌──┘  └────────┘           │  │  │  │ \n'
            ' └──┘        │  │  │  │  │  │  │  │  │  │  │  └──┘  │  │  └──┐  │  ┌──┘  ┌────────┐     ┌──┐     │  └──┘  │ \n'
            ' ┌──┐  ┌─────┘  │  │  │  │  │  │  └──┘  │  │  ┌─────┘  └──┐  └──┘  │  ┌──┘  ┌──┐  └─────┘  └──┐  │  ┌─────┘ \n'
            ' │  └──┘  ┌─────┘  │  │  └──┘  └────────┘  └──┘           └────────┘  └─────┘  └───────────┐  │  │  └─────┐ \n'
            ' │  ┌─────┘  ┌─────┘  │  ┌──┐     ┌─────┐  ┌──┐  ┌──┐     ┌──┐        ┌──┐     ┌──┐  ┌──┐  │  │  └──┐  ┌──┘ \n'
            ' │  └─────┐  │  ┌─────┘  │  │     └──┐  └──┘  └──┘  └─────┘  └────────┘  └──┐  │  └──┘  └──┘  │  ┌──┘  └──┐ \n'
            ' └─────┐  │  │  └────────┘  └────────┘  ┌───────────┐  ┌─────┐  ┌────────┐  └──┘  ┌──┐  ┌─────┘  │  ┌──┐  │ \n'
            '       └──┘  └──────────────────────────┘           └──┘     └──┘        └────────┘  └──┘        └──┘  └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    @unittest.skip('This test is too slow (around 120 seconds)')
    def test_solution_41x41(self):
        grid = Grid([
            [____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, ____, ____, 'b2', ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'b2',
             ____, ____, 'b4', ____, ____],
            ['b8', ____, 'b3', ____, ____, 'b2', 'b2', ____, ____, 'w2', 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____,
             ____, ____, ____, ____, ____],
            ['w7', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'w2', ____, ____, ____, 'b2', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b2', ____, ____, ____, 'b4', ____, 'w2',
             ____, ____, ____, 'w3', ____],
            [____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, 'b2', 'w4', ____, ____, 'w5', 'w4', ____, ____, ____, ____, 'w4', 'w2', ____, ____, 'b3', ____, ____, 'b2', ____, ____, ____, 'w4', ____, ____,
             ____, ____, 'b5', ____, ____],
            [____, ____, ____, ____, ____, 'b3', 'w3', ____, ____, 'w2', ____, ____, ____, 'b6', ____, ____, ____, ____, 'w5', 'w3', ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'b8', ____, ____, ____, ____, ____, ____,
             ____, ____, ____, ____, 'b2'],
            [____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, 'w3', 'w3', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, 'w5', 'w2', ____, ____, ____, ____, 'b3', ____, 'w2', ____, ____, ____,
             'b4', ____, ____, ____, ____],
            [____, 'w5', 'b4', ____, 'w4', ____, ____, 'b6', ____, ____, 'b2', ____, ____, ____, 'b6', 'b3', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, 'w2', ____, ____, ____, ____, 'w3', ____, ____, ____, ____,
             ____, ____, 'b4', ____, ____],
            [____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____, ____, ____, 'w2', 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____,
             ____, 'b4', ____, ____, ____],
            [____, ____, ____, 'w4', ____, ____, 'w3', ____, ____, ____, ____, ____, 'w2', ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b4', ____, ____, ____, ____, ____, 'w2', ____, 'w2', ____,
             ____, 'b4', ____, ____, ____],
            [____, 'w3', ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, 'b4', ____, ____, ____, ____, ____, 'b3', 'w5', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, 'b2', ____, ____, ____, 'b8', ____,
             'w2', ____, ____, ____, 'b3'],
            [____, ____, 'w5', ____, 'b2', 'b6', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b7', ____, ____, ____, ____, 'b5', ____, 'w3', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____,
             ____, 'b4', ____, ____, ____],
            [____, ____, ____, ____, ____, 'w5', ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, 'b2', ____, ____, ____, ____, 'b4', ____, ____, ____, 'b2', ____, ____, ____, 'w2', ____, ____, ____, 'w3', ____, ____,
             ____, ____, 'b4', ____, 'b4'],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'b7', ____, 'b5', 'b3', 'w2', 'b2', ____, ____, ____, ____, 'w5', 'b6', ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, 'b6',
             ____, ____, ____, 'b3', ____],
            [____, ____, ____, ____, ____, ____, 'w6', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, 'w2', ____, ____, ____, 'b3', ____, ____, ____,
             'b5', ____, ____, ____, ____],
            [____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'b2', ____, 'b3', ____, ____, ____, ____, 'b2', ____, 'w3', ____, ____, 'b2', 'w4', ____, 'b5', ____, ____, ____, ____, ____, ____, ____,
             ____, ____, ____, ____, ____],
            [____, 'b2', ____, ____, 'w4', 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, ____,
             ____, ____, ____, ____, ____],
            [____, 'b5', ____, 'b5', ____, ____, ____, ____, 'w2', 'b3', ____, ____, ____, ____, 'w2', ____, ____, ____, ____, ____, ____, ____, 'w5', ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, ____, ____,
             ____, 'w4', ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', 'b2', ____, ____, ____, ____, 'b3', 'w2', ____, ____, ____, ____, ____, 'b2', ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____,
             ____, ____, 'w4', 'w4', ____],
            [____, ____, ____, ____, 'w3', ____, 'b3', ____, ____, ____, 'b4', 'w4', 'b4', ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, 'b2', ____, ____, ____, ____, 'w2', ____, 'w4', ____, ____, ____, ____,
             'b3', 'w4', ____, ____, 'b5'],
            [____, ____, 'b7', ____, ____, 'b2', 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, 'w3', ____, ____, ____, 'b2', ____, 'b3', ____, ____, ____, 'b4', ____, ____,
             ____, ____, ____, 'b3', ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, 'b7', ____, ____, ____, 'w3', ____, ____, ____, ____, 'b4', 'w6', ____, 'w2', ____, ____, ____,
             ____, ____, ____, ____, ____],
            [____, ____, 'w5', ____, ____, 'b2', 'b3', ____, 'w3', 'b3', ____, ____, ____, ____, 'w6', 'w2', ____, ____, ____, ____, ____, 'b5', ____, ____, ____, 'b2', ____, ____, 'b4', ____, 'b7', 'b3', ____, ____, ____, ____,
             ____, ____, ____, ____, ____],
            [____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b5', ____, ____, 'b2', ____, 'b7', ____, ____, ____, ____, 'b2', ____, ____, 'w2', ____, ____, ____, 'w2', ____, ____, ____, 'b3', 'w2',
             ____, 'b3', ____, ____, ____],
            [____, ____, ____, ____, ____, 'b2', ____, 'b2', ____, ____, ____, 'b2', ____, ____, ____, 'b2', ____, 'w3', ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, 'b2', ____, ____, ____, ____,
             ____, 'b3', ____, ____, ____],
            ['b3', ____, ____, 'b5', ____, ____, ____, 'b5', 'w2', ____, ____, ____, 'b3', ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b6', 'b4', ____, ____, ____, ____, ____, ____, ____, ____,
             'b4', ____, ____, ____, ____],
            [____, ____, ____, ____, ____, 'b2', ____, 'b3', ____, 'b4', ____, ____, ____, 'b3', ____, ____, ____, ____, 'w3', ____, ____, 'w3', ____, 'b3', ____, ____, ____, ____, ____, ____, ____, 'b5', 'w3', ____, ____, ____,
             ____, ____, 'b2', 'w2', ____],
            [____, ____, ____, 'b3', 'w2', 'b2', ____, 'w2', ____, ____, ____, ____, ____, ____, ____, ____, 'b5', 'w3', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, 'w2', ____, 'b3', ____, ____, ____, 'b5', ____,
             ____, ____, ____, ____, 'w5'],
            ['w2', ____, 'b2', ____, ____, ____, ____, ____, 'w4', ____, 'b4', ____, 'w3', ____, 'b4', ____, ____, 'b5', ____, ____, ____, 'b6', ____, 'b2', ____, 'w3', ____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____,
             ____, ____, ____, 'b5', ____],
            [____, ____, ____, ____, ____, ____, ____, 'b4', ____, ____, 'b5', ____, ____, 'b3', ____, ____, ____, ____, ____, 'b2', ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w2', 'b4', ____, ____, ____,
             ____, ____, 'w2', ____, ____],
            [____, ____, 'b3', ____, 'b6', ____, ____, ____, ____, ____, ____, 'w5', 'w3', ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b7', ____, ____, 'b3', ____, ____, ____, ____, ____, ____, 'b7',
             ____, 'b3', ____, ____, ____],
            [____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'b2', ____, 'b3', ____, ____, 'b3', 'w2', 'b2', ____, ____, ____, ____, ____, ____,
             ____, ____, 'b3', ____, ____],
            ['b3', 'b3', ____, ____, ____, 'w5', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'b2', 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____,
             ____, 'b4', ____, 'w2', ____],
            [____, ____, ____, ____, ____, ____, 'b4', 'b3', ____, ____, ____, ____, ____, ____, 'w2', ____, 'b5', 'b4', ____, ____, 'b3', ____, ____, ____, ____, 'b2', ____, ____, 'b5', ____, ____, 'b4', ____, 'w5', ____, ____,
             ____, ____, 'b2', ____, 'w8'],
            [____, ____, 'b5', 'w2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'w4', ____, 'w4', ____, ____, 'b3', ____, ____, 'b4', 'w2', ____, ____, ____, ____, 'b4', ____, 'b2', ____, ____, 'w5', ____,
             ____, ____, ____, ____, ____],
            [____, 'w5', ____, ____, ____, ____, ____, ____, 'b4', ____, ____, ____, 'b2', 'b3', ____, ____, ____, 'b2', ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____,
             ____, ____, ____, ____, ____],
            [____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'w3', 'b5', ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, 'b3', ____, ____, ____, ____, 'b5', ____, ____, 'b2', 'b2', ____, ____, ____, 'b3',
             ____, ____, ____, ____, ____],
            [____, ____, ____, 'b2', 'b3', ____, ____, 'w3', ____, ____, 'b2', ____, ____, ____, ____, ____, ____, 'b6', 'b3', ____, ____, ____, 'b5', ____, ____, 'b4', ____, ____, 'b5', ____, 'b2', ____, 'b2', ____, 'b2', ____,
             ____, ____, ____, ____, ____],
            [____, ____, 'b3', 'b4', ____, ____, ____, ____, 'b3', ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, 'b2', ____, ____, 'b3', 'b2',
             'b3', 'w2', ____, 'b5', ____],
            [____, ____, ____, ____, 'w4', ____, ____, ____, ____, ____, ____, 'b2', ____, 'w4', 'b3', ____, ____, ____, ____, 'b3', 'w3', 'b3', ____, 'w2', ____, ____, 'b5', ____, 'b3', ____, ____, 'b2', 'b5', ____, ____, ____,
             ____, ____, 'b2', 'b3', ____],
            [____, ____, ____, ____, ____, ____, ____, 'w6', ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, 'b2', ____, ____, ____, ____, ____, ____, ____, 'w3', ____, ____, ____, ____, ____, ____, ____, ____, 'w5',
             ____, ____, ____, ____, ____],
            ['b5', 'w3', ____, 'b4', ____, ____, ____, ____, ____, ____, ____, 'w2', ____, ____, ____, 'w2', 'b3', ____, ____, ____, 'b4', ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, ____, 'b3', ____, ____, 'w6',
             ____, ____, ____, ____, ____]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            '    ┌────────┐  ┌───────────┐        ┌──┐  ┌─────┐     ┌────────┐  ┌──┐  ┌──┐        ┌──┐           ┌──┐  ┌──┐     ┌──┐    \n'
            ' ┌──┘  ┌─────┘  └──┐  ┌──┐  │  ┌─────┘  │  └──┐  │  ┌──┘  ┌──┐  │  │  └──┘  │  ┌──┐  │  └─────┐     │  └──┘  │     │  │    \n'
            ' │  ┌──┘     ┌─────┘  │  └──┘  └─────┐  │  ┌──┘  │  │  ┌──┘  │  │  │  ┌──┐  │  │  └──┘  ┌──┐  └─────┘  ┌─────┘     │  │    \n'
            ' │  │  ┌─────┘  ┌──┐  │  ┌──┐     ┌──┘  │  └──┐  │  │  │  ┌──┘  │  │  │  │  └──┘     ┌──┘  └───────────┘     ┌─────┘  └──┐ \n'
            ' │  │  │  ┌─────┘  │  │  │  │     └──┐  └─────┘  │  │  │  │  ┌──┘  └──┘  │  ┌─────┐  │  ┌────────────────────┘  ┌──┐  ┌──┘ \n'
            ' │  │  │  └──┐     │  │  │  └─────┐  └────────┐  └──┘  │  │  └────────┐  │  │     └──┘  └──┐  ┌─────┐  ┌─────┐  │  │  └──┐ \n'
            ' │  │  └──┐  │     └──┘  │  ┌──┐  └────────┐  └─────┐  │  └─────┐  ┌──┘  │  └─────┐        │  │     └──┘     │  │  └─────┘ \n'
            ' │  └──┐  │  │  ┌────────┘  │  └────────┐  │  ┌──┐  └──┘     ┌──┘  │  ┌──┘     ┌──┘     ┌──┘  │  ┌──┐        └──┘          \n'
            ' └──┐  │  │  │  └────────┐  └──┐  ┌─────┘  │  │  │     ┌──┐  │  ┌──┘  └─────┐  └────────┘  ┌──┘  │  └─────┐     ┌────────┐ \n'
            '    │  │  │  └──┐        └─────┘  │  ┌─────┘  │  └─────┘  │  │  │  ┌────────┘  ┌────────┐  └──┐  └─────┐  └─────┘  ┌─────┘ \n'
            '    │  │  └──┐  └──────────────┐  │  │        │  ┌─────┐  │  │  │  │  ┌────────┘        └─────┘  ┌──┐  │  ┌─────┐  │       \n'
            ' ┌──┘  │     └──────────────┐  │  │  └──┐     └──┘     │  │  │  └──┘  │     ┌──┐     ┌─────┐     │  │  │  └──┐  │  └─────┐ \n'
            ' │  ┌──┘  ┌─────────────────┘  │  └──┐  │  ┌──┐        │  │  └──┐  ┌──┘  ┌──┘  │     └──┐  │  ┌──┘  │  │  ┌──┘  └─────┐  │ \n'
            ' │  └──┐  │  ┌─────────────────┘     │  └──┘  │  ┌──┐  │  └──┐  │  │     └──┐  │  ┌─────┘  │  │  ┌──┘  │  │  ┌──┐     └──┘ \n'
            ' │  ┌──┘  │  │                 ┌──┐  └──┐  ┌──┘  │  │  │  ┌──┘  │  │     ┌──┘  │  │  ┌─────┘  │  │     │  │  │  └─────┐    \n'
            ' │  └──┐  │  │  ┌─────┐     ┌──┘  │  ┌──┘  └──┐  │  └──┘  └─────┘  └─────┘  ┌──┘  │  │     ┌──┘  └─────┘  │  │  ┌──┐  │    \n'
            ' └──┐  └──┘  │  └──┐  └─────┘  ┌──┘  │  ┌─────┘  └──┐  ┌──┐  ┌──────────────┘     │  │     │  ┌──┐  ┌──┐  │  │  │  │  │    \n'
            '    │  ┌─────┘     │  ┌─────┐  └──┐  │  └──┐  ┌─────┘  │  │  │     ┌──┐  ┌────────┘  └──┐  │  │  │  │  │  └──┘  │  │  │    \n'
            '    │  └────────┐  └──┘     └──┐  │  └──┐  │  └─────┐  │  │  └─────┘  └──┘  ┌──┐  ┌──┐  │  │  │  │  │  └─────┐  │  │  └──┐ \n'
            '    │  ┌─────┐  └──┐     ┌──┐  │  │     │  │        │  │  └─────┐  ┌────────┘  └──┘  └──┘  │  │  └──┘        └──┘  └──┐  │ \n'
            ' ┌──┘  │     └──┐  └──┐  │  │  │  │     │  │  ┌─────┘  │     ┌──┘  └────────┐  ┌────────┐  │  └─────┐  ┌────────┐     │  │ \n'
            ' └──┐  │        └──┐  │  │  └──┘  └──┐  │  │  │  ┌──┐  │     │  ┌────────┐  └──┘  ┌──┐  └──┘  ┌─────┘  │  ┌──┐  │  ┌──┘  │ \n'
            '    │  │     ┌──┐  │  └──┘  ┌─────┐  └──┘  │  └──┘  └──┘     │  │     ┌──┘  ┌─────┘  │  ┌─────┘     ┌──┘  │  │  └──┘  ┌──┘ \n'
            ' ┌──┘  │  ┌──┘  └──┘  ┌──┐  │     └──┐     └──┐  ┌────────┐  │  └──┐  └─────┘        │  │     ┌──┐  │  ┌──┘  │  ┌─────┘    \n'
            ' └─────┘  └───────────┘  │  │  ┌─────┘  ┌─────┘  │  ┌──┐  │  │  ┌──┘        ┌──┐  ┌──┘  │  ┌──┘  └──┘  │     └──┘     ┌──┐ \n'
            '             ┌──┐  ┌──┐  └──┘  │  ┌─────┘        │  │  │  │  │  │     ┌─────┘  │  │  ┌──┘  │  ┌────────┘        ┌──┐  │  │ \n'
            ' ┌──┐  ┌──┐  │  └──┘  │  ┌──┐  │  │        ┌─────┘  │  │  └──┘  │  ┌──┘  ┌──┐  │  │  │  ┌──┘  │        ┌────────┘  └──┘  │ \n'
            ' │  └──┘  │  └──┐  ┌──┘  │  └──┘  └────────┘  ┌─────┘  └────────┘  │  ┌──┘  │  │  └──┘  └──┐  └─────┐  │  ┌───────────┐  │ \n'
            ' └─────┐  └─────┘  └──┐  │  ┌──┐  ┌──┐  ┌──┐  └──┐     ┌──┐  ┌──┐  └──┘     │  │           └─────┐  │  └──┘     ┌─────┘  │ \n'
            ' ┌──┐  └─────┐  ┌──┐  │  │  │  │  │  │  │  └──┐  │  ┌──┘  └──┘  └───────────┘  └──┐  ┌──┐  ┌──┐  │  └──┐  ┌─────┘  ┌─────┘ \n'
            ' │  └──┐     │  │  │  │  └──┘  │  │  │  └──┐  │  │  │  ┌─────┐  ┌──┐  ┌──┐  ┌─────┘  │  └──┘  │  └──┐  │  │  ┌─────┘  ┌──┐ \n'
            ' └──┐  │     │  │  │  └──┐     │  │  └─────┘  │  │  │  │     │  │  └──┘  │  └──┐  ┌──┘  ┌──┐  │     │  │  │  │  ┌──┐  │  │ \n'
            '    │  │     │  │  └──┐  │  ┌──┘  │     ┌─────┘  └──┘  │     └──┘        └──┐  │  │  ┌──┘  │  └──┐  │  │  │  │  │  └──┘  │ \n'
            ' ┌──┘  └─────┘  │     │  │  │  ┌──┘     │  ┌───────────┘     ┌─────┐  ┌─────┘  │  │  │  ┌──┘  ┌──┘  │  │  │  │  │  ┌──┐  │ \n'
            ' └──────────────┘  ┌──┘  └──┘  │     ┌──┘  │        ┌──┐     └──┐  │  │  ┌─────┘  │  │  │  ┌──┘     │  └──┘  └──┘  │  │  │ \n'
            '    ┌────────┐     │  ┌────────┘     └──┐  └────────┘  │     ┌──┘  └──┘  └──┐  ┌──┘  │  │  └──┐     └─────┐  ┌─────┘  │  │ \n'
            ' ┌──┘  ┌──┐  └─────┘  │        ┌──┐     │  ┌────────┐  └──┐  └──┐  ┌────────┘  │  ┌──┘  └──┐  └──┐     ┌──┘  │  ┌──┐  │  │ \n'
            ' └─────┘  └────────┐  │  ┌─────┘  └──┐  │  │        │  ┌──┘  ┌──┘  │  ┌──┐     │  │        └──┐  └─────┘  ┌──┘  │  └──┘  │ \n'
            ' ┌──┐  ┌───────────┘  └──┘  ┌──┐  ┌──┘  │  └──┐     │  └──┐  │  ┌──┘  │  └─────┘  └──┐     ┌──┘  ┌────────┘     └──┐  ┌──┘ \n'
            ' │  └──┘  ┌─────────────────┘  │  └──┐  └──┐  └──┐  └──┐  │  │  │  ┌──┘  ┌────────┐  │     └──┐  │  ┌──────────────┘  │    \n'
            ' └────────┘                    └─────┘     └─────┘     └──┘  └──┘  └─────┘        └──┘        └──┘  └─────────────────┘    '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)


if __name__ == '__main__':
    unittest.main()
